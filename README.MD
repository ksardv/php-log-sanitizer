# PHP Log Sanitizer

A lightweight, **framework-agnostic PHP library** for automatically masking sensitive data in logs. Useful for privacy compliance (e.g., GDPR, PCI DSS) and secure debugging.

- âœ… Framework-agnostic â€” works with any PHP project
- âœ… Format-aware â€” supports plain text, JSON, XML
- âœ… Regex-based masking with override support
- âœ… Ships with secure defaults (emails, passwords, API keys, etc.)
- âœ… Configurable via external `mask.php` pattern file
- âœ… No Monolog or PSR-3 required
- âœ… Modern PHP 8.0+ (typed properties, constructor promotion)

---

## ğŸš€ Installation

Install via [Composer](https://getcomposer.org/):

```bash
composer require ksardv/php-log-sanitizer
```

## ğŸ§© Framework Integration

### Laravel

You can use `php-log-sanitizer` in Laravel without any special service provider or package.

#### Basic usage in a custom log processor:

```php
use Ksardv\PhpLogSanitizer\PatternRepository;
use Ksardv\PhpLogSanitizer\Sanitizers\JsonSanitizer;

$patterns = PatternRepository::fromFile(config_path('log_mask.php'));
$sanitizer = new JsonSanitizer($patterns);

Log::info($sanitizer->sanitize(json_encode($yourPayload)));
```

## ğŸ“ Examples Directory

See the [`examples/`](examples/) folder for real code:
- `text.php` â€“ raw string sanitization
- `json.php` â€“ structured JSON masking
- `xml.php` â€“ XML sanitization
- `add_pattern.php` â€“ how to define custom rules